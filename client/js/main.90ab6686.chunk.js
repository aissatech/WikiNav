(this["webpackJsonpsearch-demo"]=this["webpackJsonpsearch-demo"]||[]).push([[0],{93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(15),r=n.n(c),o=n(25),l=n(7),i=n(16),s=n(22),u=n.n(s),h=n(50),p=n.n(h),j=n(47),d=n(4),b=function(e){var t=e.name,n=e.onChange,a=e.placeholder;return Object(d.jsx)("div",{className:"language-search",children:Object(d.jsx)(j.a,{name:t,cacheOptions:!0,onChange:n,placeholder:a,options:[{value:"en",label:"en.wikipedia.org"},{value:"pt",label:"pt.wikipedia.org"}],noOptionsMessage:function(){return null},components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},maxMenuHeight:175,theme:function(e){return Object(l.a)(Object(l.a)({},e),{},{colors:Object(l.a)(Object(l.a)({},e.colors),{},{neutral50:"black"})})}})})},g=n(48),O=function(e){var t=e.name,n=e.language,c=e.onChange,r=e.placeholder,o=Object(a.useState)(""),s=Object(i.a)(o,2),u=s[0],h=s[1];return Object(d.jsx)("div",{className:"article-search",children:Object(d.jsx)(g.a,{name:t,placeholder:r,cacheOptions:!0,getOptionLabel:function(e){return e.title},getOptionValue:function(e){return e.title.replaceAll(" ","_")},loadOptions:function(){var e="https://".concat(n,".wikipedia.org/w/api.php?action=query&list=prefixsearch&format=json&pssearch=").concat(u,"&origin=*");return fetch(e).then((function(e){return e.json()})).then((function(e){return e.query.prefixsearch}))},onInputChange:function(e){return h(e)},onChange:c,noOptionsMessage:function(){return"Enter one or more characters to get started."},components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},maxMenuHeight:175,theme:function(e){return Object(l.a)(Object(l.a)({},e),{},{colors:Object(l.a)(Object(l.a)({},e.colors),{},{neutral50:"black"})})}})})},f=n(23),m=n(49),v=n.n(m),x=function(e){var t=e.links,n=e.title;if(0===t.in.length&&0===t.out.length)return Object(d.jsx)("div",{className:"no-data",children:"No data found for this title. Try another one."});var a=[],c=[],r=t.in.length,o=t.out.length,l=Object(f.a)(Array(r).keys()).concat(Array(o).fill(r)),i=Array(r).fill(r).concat(Object(f.a)(Array(o).keys()).map((function(e){return r+e+1})));return Object.keys(t).forEach((function(e){a.push.apply(a,Object(f.a)(t[e].map((function(e){return e.title})))),c.push.apply(c,Object(f.a)(t[e].map((function(e){return e.views}))))})),a.splice(r,0,n.replaceAll("_"," ")),Object(d.jsx)("div",{className:"sankey",children:Object(d.jsx)(v.a,{data:[{type:"sankey",orientation:"h",node:{pad:30,thickness:10,line:{width:0},label:a,color:"#47597e"},link:{source:l,target:i,value:c,color:"#dbe6fd"}}],layout:{autosize:!0,margin:{l:10,r:10,t:10},font:{size:10}},useResizeHandler:!0,style:{width:"100%",height:"100%"}})})},y=function(){var e=Object(a.useState)({title:"Chocolate",language:"en"}),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({in:null,out:null}),s=Object(i.a)(r,2),h=s[0],j=s[1],g=Object(a.useState)(!0),f=Object(i.a)(g,2),m=f[0],v=f[1],y=function(e,t){var a=t.name,r="language"===a?e.value:e.title.replaceAll(" ","_");c(Object(l.a)(Object(l.a)({},n),{},Object(o.a)({},a,r))),v(!0)};return Object(a.useEffect)((function(){var e="https://wn-api-test.toolforge.org",t=u.a.get("".concat(e,"/").concat(n.language,"/").concat(n.title,"/sources?limit=10")),a=u.a.get("".concat(e,"/").concat(n.language,"/").concat(n.title,"/destinations?limit=10"));u.a.all([t,a]).then(u.a.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0].data.results,c=t[1].data.results;j({in:a,out:c})}))).catch((function(){j({in:[],out:[]})})).finally((function(){v(!1)}))}),[n]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"top-bar",children:[Object(d.jsx)("p",{className:"top-text",children:"WikiNav"}),Object(d.jsx)(b,{name:"language",placeholder:"en.wikipedia.org",onChange:y}),Object(d.jsx)(O,{name:"title",placeholder:"Chocolate",language:n.language,onChange:y})]}),Object(d.jsxs)("div",{className:"sankey-wrapper",children:[!m&&Object(d.jsx)(x,{links:h,title:n.title}),Object(d.jsx)("div",{className:"scale-loader",children:Object(d.jsx)(p.a,{color:"#000000",loading:m,size:150})})]})]})};n(93);r.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.90ab6686.chunk.js.map